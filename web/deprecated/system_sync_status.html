<!-- draft page -->

<html manifest="mobileapp.manifest">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">	<!-- sets document with to device width -->
<meta name="apple-mobile-web-app-capable" content="yes"> <!-- tags as web app for iOS -->
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"> <!-- status bar translucent -->

<link rel="stylesheet" media="all" href="style.css" />
<title>Sync Assessment Details</title>
</head>
<script>
// Scroll the page one pixel to hide the menu bar
window.addEventListener('load', function(e) {
    setTimeout(function() { window.scrollTo(0, 1); }, 1);
  }, false);
</script>
<!-- script immediately scrolls the page one pixel to hide the address bar -->
<script type="text/javascript">


function delete_disaster_entries(){
var logLength = localStorage.length-1;
for (i = 0; i <= logLength; i++) {
        //lets setup some variables for the key and values
        var itemKey = localStorage.key(i);
	localStorage.removeItem(itemKey);
}

document.location="hello.java";

}

function getAllItems() {
    var timeLog = ""; //the variable that will hold our html
    var i = 0;
    var logLength = localStorage.length-1; 

    var count=0;

   
    
    for (i = 0; i <= logLength; i++) {
        
        var itemKey = localStorage.key(i);

        var values = localStorage.getItem(itemKey);
		
		var localJsonObject = eval('(' + values + ')');

		document.write("Last name "+localJsonObject.get("txt_last_name"));
	}
/*
	//document.write("itemkey : "+itemKey+" values: "+values);
	var fname,lname,zip,city,state;
	values = values.split(","); //create an array of the values
	for(j=0;j<values.length;j++){
 	//
	if (values[j].match(/txt_first_name/)) {  
	fname=values[j].substring(18,values[j].length-1);

	}
	//values[j].match(/txt_last_name/)?document.write("Client last Name: "+values[j].substring(18,values[j].length-1)+"\n <br>"):document.write("last name not recorded<br>");

	if (values[j].match(/txt_last_name/)) {  
	lname=values[j].substring(18,values[j].length-1);
	}

	if (values[j].match(/tel_zip/)) {  
	zip=values[j].substring(11,values[j].length-1);
	}

	if (values[j].match(/txt_city/)) {  
	city=values[j].substring(12,values[j].length-1);
	}

	if (values[j].match(/txt_state/)) {  
	state=values[j].substring(13,values[j].length-1);
	}
	//document.write("<h4> <center> <font color=\"green\"> Client First Name: "+fname+" Client Last Name: "+lname+" City: "+city+" State: "+state+" Zipcode: "+zip+" </center> </font> </h4>");

	}

	if(fname!=null && lname!=null) {
	document.write("<h4> <center> <font color=\"green\"> Client First Name: "+fname+" Client Last Name: "+lname+" City: "+city+" State: "+state+" Zipcode: "+zip+" </center> </font> </h4>");
	count=count+1;
	}

  	 }

	if(count==0) {
		document.write("<h3> All records have been synchronized with the server at this stage </h3>");
	}*/

}


</script>

<body>
	<h1>Assessment Details</h1>
	<div class='instruction_text'><center>Records that are yet to be synced with the central database are displayed below</center></div>



<script type="text/javascript">getAllItems();</script>
<form name="disaster" action="process.java" onSubmit="delete_disaster_entries()">
<div class="bottom_button_row">

<input type='submit' value='Sync' style='text-align:center;margin:auto' "/>
</div>
</form>

</body>

</html>